@import 'src/styles/style';

@table-filter-height: 32px;

.border-color-hover() {
    border-top-color: var(--triplex-TableBasic-TableFilter_BorderColor_Hover);
    border-right-color: var(--triplex-TableBasic-TableFilter_BorderColor_Hover); // IE11 fix
    border-left-color: var(--triplex-TableBasic-TableFilter_BorderColor_Hover); // IE11 fix
}

.border-element() {
    &::after {
        content: '';
        position: relative;
        display: block;
        margin-top: @metric-8;
        border-top: @metric-4 solid;
        border-color: var(--triplex-TableBasic-TableFilter_BorderColor_Default); // IE11 fix
        border-radius: 2px 2px 0 0;
        transition: border-color 500ms;
    }

    &:hover::after,
    &:focus::after {
        .border-color-hover();
    }

    &.active::after {
        border-top-color: var(--triplex-TableBasic-TableFilter_BorderColor_Active);
        border-right-color: var(--triplex-TableBasic-TableFilter_BorderColor_Active); // IE11 fix
        border-left-color: var(--triplex-TableBasic-TableFilter_BorderColor_Active); // IE11 fix
    }
}

.tableFilterWrapper {
    display: inline-block;
    padding-left: @metric-8;
}

.tableFilter {
    position: relative;
    height: @table-filter-height;
    z-index: 1;
    line-height: 0;
    white-space: nowrap;
}

.filterItem {
    position: relative;
    padding: 0;
    height: @table-filter-height;
    border: none;
    outline: none;
    background: transparent;
    cursor: pointer;
    .b1-text-main(@color-graphite-01);
    color: var(--triplex-TableBasic-TableFilter_Color);

    &::-moz-focus-inner {
        border: none;
        padding: 0;
    }

    &.active {
        cursor: default;
    }

    .filterItemInner {
        position: relative;
        padding: 0 @metric-16;
        display: inline-block;
    }

    .border-element();
}

.notificationIcon {
    position: absolute;
    top: 0;
    right: 6px;
    width: @metric-8;
    height: @metric-8;
    border-radius: 50%;
    background-color: var(--triplex-TableBasic-TableFilter_Notification_Color);
}

.tableFilterDropdown {
    display: inline-block;

    .dropdownTarget.active {
        cursor: pointer;
    }

    .dropdownTargetInner {
        display: inline-flex;
        align-items: center;
    }

    .dropdownTargetCaret {
        margin-left: @metric-4;
        transition: transform 0.25s ease-in-out;

        &.opened {
            transform: rotate(-180deg);
        }

        path {
            fill: var(--triplex-TableBasic-TableFilter_Caret_Color);
        }
    }

    .dropdown {
        right: 0;
        padding: @metric-4;
    }

    .dropdownItem.withNotification {
        .dropdownItemInner {
            margin-right: 2px;
        }

        .notificationIcon {
            top: 2px;
            right: 2px;
        }
    }
}
